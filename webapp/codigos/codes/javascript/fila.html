<html><body><pre><code>
function NoFactory(valor, proximo) {
    return {
        valor,
        proximo
    };
}

function FilaFactory(cabeca, cauda) {
    return {
        cabeca,
        cauda,

        enfileirar(valor) {
            const novoNo = NoFactory(valor);
            if(this.cabeca === this.cauda && !this.cabeca) {
                this.cabeca = novoNo;
                this.cauda = novoNo;
            }
            else {
                this.cauda.proximo = novoNo;
                this.cauda = novoNo;
            }
        },

        desenfileirar() {
            if(this.cabeca === this.cauda && !this.cabeca) {
                console.log("Erro ao tentar retirar um elemento de uma fila vazia.");
                return;
            }

            if(this.cabeca === this.cauda) {
                this.cabeca = this.cauda = null;
            }
            else {
                this.cabeca = this.cabeca.proximo;
            }
        },

        printAll() {
            let atual = this.cabeca;
            let string = "";
            while(atual) {
                string += `${atual.valor} `;
                atual = atual.proximo;
            }
            console.log(string);
        }
    };
}

const f = FilaFactory();
f.enfileirar(5);
f.printAll();
f.enfileirar(10);
f.printAll();
f.enfileirar(15);
f.printAll();
f.enfileirar(20);
f.printAll();
f.desenfileirar();
f.printAll();
f.desenfileirar();
f.printAll();
</code></pre></body></html>
